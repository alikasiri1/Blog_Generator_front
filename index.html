<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SB Admin 2 - Blank</title>

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <link href="css/sb-admin-2.css" rel="stylesheet">


    <style>
        .nav-item .nav-link {
          color: #002253;
          padding-left: 16px;
          padding-right: 16px;
        }
        .nav-item:focus , .nav-item:hover {
          background-color: #e7f1ff;
          border-radius: 28px;
        }
        @media (min-width: 1300px) {
          .content {
            padding-left: 100px;
            padding-right: 100px;
          }
        }
        @media (min-width: 1300px) {
          .navbar {
            padding-left: 100px;
            padding-right: 100px;
          }
        }

        
        .css-qzc3t9 {
          width: 45%;
          -webkit-transform: translateX(-20%);
          -moz-transform: translateX(-20%);
          -ms-transform: translateX(-20%);
          transform: translateX(-20%);
          z-index: 0;
      }
      .css-xpd2ee {
    width: 45%;
    -webkit-transform: translateX(20%);
    -moz-transform: translateX(20%);
    -ms-transform: translateX(20%);
    transform: translateX(20%);
    z-index: 0;
}

.css-1y1httb>*:not(style) {
    overflow: hidden;
    top: 0px;
    right: 0px;
    bottom: 0px;
    left: 0px;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex
;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
    -webkit-align-items: center;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    width: 100%;
    height: 100%;
    position: relative;
}
        
   
   
    </style>
</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper"  >

        <!-- Sidebar -->
        
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column" >
          <nav class="navbar navbar-expand-lg fixed-top" style="background-color: rgba(255, 255, 255, 0.95);">
            <div class="container-fluid">
              <a class="navbar-brand text-primary" href="#">
                gamma
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
                      data-bs-target="#navbarSupportedContent" 
                      aria-controls="navbarSupportedContent" 
                      aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item ml-2">
                    <a class="nav-link" aria-current="page" href="#" style="padding-left: 16px;padding-right: 16px;">Home</a>
                  </li>
                  <li class="nav-item ml-2">
                    <a class="nav-link" href="#" style="padding-left: 16px;padding-right: 16px;">Link</a>
                  </li>
                  <li class="nav-item dropdown ml-2">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false" style="padding-left: 16px;padding-right: 16px;">
                      Dropdown
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><hr class="dropdown-divider"></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item ml-2">
                    <a class="nav-link " style="padding-left: 16px;padding-right: 16px;">click</a>
                  </li>
                </ul>
                <ul class="navbar-nav">
                  <li class="nav-item ml-2">
                    <a class="nav-link" href="login.html" style="padding-left: 16px;padding-right: 16px;">Login</a>
                  </li>
                  <li class="nav-item ml-2">
                    <a class=" text-light nav-link" href="register.html" style="padding-left: 16px;padding-right: 16px;border-radius: 28px;border: none;box-sizing: unset">Start for free</a>
                  </li>
                  
                </ul>
                
              </div> 
            </div>
          </nav>
            <!-- Main Content -->
            <div class="content mb-5" classid="content" >

                <!-- Topbar -->
                
                  
                <!-- End of Topbar -->


                
                <!-- Begin Page Content -->
                <div class="container-fluid ">
                    <!-- Page Heading -->
                    
                    
                    

                    <div class=" row" style="margin-top: 150px;">
                        <div class="col-lg-5 d-flex align-items-center justify-content-center" >
                            <div class="text-center text-primary">
                              <h2 class=" fw-bold text-xl text-lg-left" style="font-weight: 700;font-family: 'ESBuild', sans-serif;">Bring your ideas to life.</h2>
                              <h2 class="h5 text-muted text-gray-800 text-lg-left" style="font-weight: 500;">Your ideas are brilliant. The universe deserves to see them. A captivating pitch deck? Easy. A stunning website? Done. Make anything you can imagine almost as quickly as you can think it up.</h2>
                              <div class="col-lg-4 mb-3" style="padding-left: 0px;padding-right: 0px;">
                                <a class="fw-bold text-lg nav-link text-light mt-4" href="register.html" style="border-radius: 28px;box-sizing: unset" >start for free</a>
                              </div>
                            </div>
                            
                          </div>
                          
                        <div class="col-lg-7">        
                            <img src="img/firstpage2.png" class="card-img-top" alt="project" >
                        </div>
                    </div>

                    
                <!-- /.container-fluid -->

                </div>
                
            <!-- End of Main Content -->

            <!-- Footer -->
            
            <!-- End of Footer -->

            </div>

            <div  class="content mt-4" classid="content"  style="background: linear-gradient(0deg, #FFFFFF 0%, #AFE7FC 48%, #A8D1FF 71%, #CDDAFA 85%, #ffffff 100%);">
              <div class="container-fluid ">
                <div class="row mt-5 mb-5 text-center">
                  
                  <h1 class=" text-xxl text-primary " style="font-weight: 530;font-family:var('ESBuild',sans-serif);font-feature-settings: 'ss02';">Creative content at the speed of light.</h2>
                  <div class="chakra-stack css-1jjq5p5">
                    <img alt="Cloud 2" src="https://vercel-marketing-app.gamma.app/_next/static/media/clouds2.b6ae5b45.png" class="chakra-image css-qzc3t9">
                    <img alt="Cloud 1" src="https://vercel-marketing-app.gamma.app/_next/static/media/clouds1.9209e211.png" class="chakra-image css-xpd2ee">
                  </div>
                </div>
              </div>
            </div>

            <div class="content" classid="content" >
              <div class="container-fluid text-center">
                <h1 class=" h1 text-lg-center" style="font-weight: 550;font-family:var('ESBuild',sans-serif)">Build anything, beautifully</h2>

                <div class="row mt-5 mb-5">
                    <div class="tab-content col-12" id="pills-tabContent">
                      
                      <div class="tab-pane fade show active" id="pills-unpublished" role="tabpanel" aria-labelledby="pills-unpublished-tab">
                          <div class="card-body">
                              <div class="row">
                                  <div class="col-4 text-center mt-3"></div>
                                  <div class="col-4 text-center mt-3">
                                      <div class="text-center py-5">
                                          <div class="spinner-border text-primary mb-3" role="status" style="width: 3rem; height: 3rem;">
                                              <span class="sr-only">Loading...</span>
                                          </div>
                                          <p class="text-muted">This may take a few seconds</p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                          
                              <div class="col-12 text-center mb-3" style="justify-items: center;">
                                  <button id="showMoreUnpublished" class="btn border-0" style="display:none;color: #4e73df;box-shadow: 0 0 0 .0rem rgba(68, 68, 68, 0.25);">Show More</button>
                              </div>
                      </div>
                  </div>
                  </div>
                <div class="row mt-4" style="margin-bottom: 100px;">
                  <div class="col-lg-5 d-flex align-items-center justify-content-center" >
                    <div class="text-center text-primary">
                      <h2 class="mb-4 fw-bold h1 text-lg-left" style="font-weight: 700;font-family: 'ESBuild', sans-serif;">Shareworthy content, wherever you need it.</h2>
                      <ul role="list" class="nav nav-pills" style="flex-direction: column;align-items: flex-start;">
                        <div class="card-header border-0 py-1 mb-3" style="color: #454549;">
                          <i class="fas fa-file fa-sm text-white-20" style="color: #3b68f6;margin-right: 8px;">
                          </i>
                          Export as PPT, PDF, PNG, or Google Slides
                        </div> 
                      
                        <div class="card-header border-0 py-1 mb-3" style="color: #454549;">
                          <i class="fas fa-download fa-sm text-white-20" style="color: #3b68f6;margin-right: 8px;">
                          </i>
                          Publish as a website or social post, or share as a link
                        </div>
                      
                        <div class="card-header border-0 py-1 mb-3" style="color: #454549;">
                          <i class="fas fa-link fa-sm text-white-20" style="color: #3b68f6;margin-right: 8px;">
                          </i>
                          Track engagement metrics
                        </div>

                      </ul>
                      
                      <div class="col-lg-4 mb-3" style="padding-left: 0px;padding-right: 0px;">
                        <a class="fw-bold nav-link text-light mt-4" href="register.html" style="border-radius: 28px;box-sizing: unset; background-color: #3b68f6;" >start for free</a>
                      </div>
                    </div>
                    
                  </div>
                  <div class="col-lg-1">  </div>
                <div class="col-lg-6 css-1y1httb">        
                   <video autoplay muted loop playsinline class="card-img-overlay" preload="metadata" ><!-- style="height: 85%;" -->
                    <source src="https://static.gamma.app/videos/home/Generate_aad63333.mp4">
                    <source src="https://static.gamma.app/videos/home/Generate_0d75d6c5.webm">
                    Your browser does not support the video tag.
                  </video>
                  <!-- <div class="video-card card" id="videoCard">
                    <div class="video-placeholder" id="videoPlaceholder" aria-busy="true" aria-live="polite">
                      <div class="placeholder-media"></div>
                      <div class="placeholder-body">
                        <div class="placeholder-line short"></div>
                        <div class="placeholder-line"></div>
                      </div>
                    </div>
                </div> -->
                </div>
                
                </div>
              <div class="row mb-5">
                
                <div class="col-lg-6 css-1y1httb">        
                  <video autoplay muted loop playsinline class="card-img-overlay" preload="metadata" ><!-- style="height: 85%;" -->
                  <source src="https://static.gamma.app/videos/home/Share_9b5ad53c.mp4">
                  <source src="https://static.gamma.app/videos/home/Share_7c9f3a58.webm">
                  Your browser does not support the video tag.
                </video>
                <!-- <div class="video-card card" id="videoCard">
                  <div class="video-placeholder" id="videoPlaceholder" aria-busy="true" aria-live="polite">
                    <div class="placeholder-media"></div>
                    <div class="placeholder-body">
                      <div class="placeholder-line short"></div>
                      <div class="placeholder-line"></div>
                    </div>
                  </div>
              </div> -->
              </div>
                <div class="col-lg-1">  </div>
                <div class="col-lg-5 d-flex align-items-center justify-content-center" >
                  <div class="text-center text-primary">
                    <h2 class="mb-4 fw-bold h1 text-lg-left" style="font-weight: 700;font-family: 'ESBuild', sans-serif;">Edit with AI, in just a click.</h2>
                    <ul role="list" class="nav nav-pills" style="flex-direction: column;align-items: flex-start;">
                      <div class="card-header border-0 py-1 mb-3" style="color: #454549;">
                        <i class="fas fa-pen fa-sm text-white-20" style="color: #eb49a7;margin-right: 8px;">
                        </i>
                        Instantly add smart layouts, rich content, and translations

                      </div> 
                    
                      <div class="card-header border-0 py-1 mb-3" style="color: #454549;">
                        <i class="fas fa-image fa-sm text-white-20" style="color: #eb49a7;margin-right: 8px;">
                        </i>
                        Generate images and rework with AI 
                      </div>
                    
                      <div class="card-header border-0 py-1 mb-3" style="color: #454549;">
                        <i class="fas fa-user fa-sm text-white-20" style="color: #eb49a7; margin-right: 8px;">
                        </i>
                        Collaborate real-time with your team
                      </div>

                    </ul>
                    
                    <div class="col-lg-4 mb-3" style="padding-left: 0px;padding-right: 0px;">
                      <a class="fw-bold nav-link text-light mt-4" href="register.html" style="border-radius: 28px;box-sizing: unset ;background-color: #eb49a7" >start for free</a>
                    </div>
                  </div>
                  
                </div>
              
              </div>
              </div>
            </div>
        <!-- End of Content Wrapper -->

        </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>
                <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" href="login.html">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script>

        const API_ROOT = 'http://127.0.0.1:8000/api';
        const accessToken = localStorage.getItem('access_token');
        const adminUUID = localStorage.getItem('admin_uuid');
        // Global variables
        let allBlogs = [];
        const itemsPerPage = 3;
        let published = 1;
        let unpublished = 1;

        function getAuthHeaders() {
            return {
                'Authorization': `Bearer ${accessToken}`,
                'Content-Type': 'application/json'
            };
        }
        
        async function authFetch(url, options = {}) {
            const res = await fetch(`${API_ROOT}${url}`, {
                ...options,
                headers: getAuthHeaders()
            });
            
            if (!res.ok) {
                const error = await res.json();
                throw new Error(error.message || 'Request failed');
            }
            
            return await res.json();
        }
        // Fetch all blogs
        async function fetchBlogs() {
            try {
                allBlogs = await authFetch(`/admin/blogs/`, {
                    method: 'GET',
                });
                console.log(allBlogs);
                return allBlogs;
            } catch (error) {
                console.error('Error loading blogs:', error);
                throw error;
            }
        }

        // Render blogs for a specific tab
        function renderBlogs(tab, page = 1) {
            // const filteredBlogs = filterBlogs(tab);
            const startIndex = (page - 1) * itemsPerPage;
            const blogsToShow = allBlogs.slice(0, startIndex + itemsPerPage);
            console.log(blogsToShow.length)
            // console.log()
            const container = document.querySelector(`#pills-${tab} .row`);
            console.log(container)
            container.innerHTML = ''; // Clear existing content
            
            if (blogsToShow.length === 0) {
                container.innerHTML = `
                
                    <div class="col-12 text-center py-2">
                        <div class="row" style="display: ruby-text;">
                            <div class="css-gc7qqt text-center">
                                <img alt="Upper cloud" class="chakra-image css-1sn7tib" src="img/cloud.bb46cfda.png">
                                <img alt="Balloon" class="chakra-image css-k5mids" src="img/balloon.0f0058ec.png">
                                <img alt="Lower cloud" class="chakra-image css-5n20n3" src="img/cloud.bb46cfda.png">
                            </div>
                        </div>
                        
                        <p class="h4 text-primary" style="font-weight:bold">No blogs found in this category</p>
                    </div>
                `;
                return;
            }
            
            blogsToShow.forEach(blog => {// col-xl-3
            const blogCard = `
                <div class="col-sm-6  col-md-4 col-xl-4 mb-3">
                    <div class="card doc-card  hover-card-light" style="">
                        <a class="text-decoration-none" href="http://localhost:8003/single.html?title=${blog.slug}">
                            <img src="${blog.image_url}" class="card-img-top" alt="project" style="width: 100%;height: 10rem;">
                            <div class="card-body">
                                <h6 class="card-title mb-1 text-gray-900">
                                ${blog.title}
                                
                                </h6>
                              

                            </div>
                        </a>

                    </div>
                </div>
            


                    

                `; // src="${blog.image_url ||'img/undraw_posting_photo.svg'}" alt="${blog.title}"> 
                container.insertAdjacentHTML('beforeend', blogCard);
            });
            
            // Show/hide "Show More" button
            const showMoreBtn = document.querySelector(`#pills-${tab} #showMore${tab.charAt(0).toUpperCase() + tab.slice(1)}`);
            if (showMoreBtn) {
                showMoreBtn.style.display = (startIndex + itemsPerPage) < allBlogs.length ? 'block' : 'none';
            }
        }

        // Initialize all tabs
        async function initializeTabs() {
            try {
                // Show loading state
                
                
                await fetchBlogs();
                
                // Initial render for each tab
                renderBlogs('unpublished', unpublished);
                // renderBlogs('published', published);
                
                
                
            } catch (error) {
                console.error('Initialization error:', error);
                document.querySelectorAll('.tab-pane').forEach(pane => {
                    pane.querySelector('.row').innerHTML = `
                        <div class="col-12">
                            <div class="alert alert-danger">Failed to load blogs. Please try again later.</div>
                        </div>
                    `;
                });
            }
        }

        // Event listeners for "Show More" buttons
        document.addEventListener('DOMContentLoaded', () => {
            initializeTabs();
            
            // document.getElementById('showMorePublished')?.addEventListener('click', () => {
            //     published++;
            //     renderBlogs('published', published);
            // });
            // renderBlogs('unpublished', unpublished);
            document.getElementById('showMoreUnpublished')?.addEventListener('click', () => {
                unpublished++;
                renderBlogs('unpublished', unpublished);
            });
        });
    </script>
</body>

</html>